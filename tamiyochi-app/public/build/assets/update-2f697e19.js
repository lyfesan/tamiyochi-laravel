import{R as h,j as r,y as b}from"./app-1fde4bb0.js";import{t as j,F as d}from"./index-1eec8771.js";import{s as y}from"./index-3d80d59d.js";import{u as S}from"./input-c019c968.js";import{B as p,c}from"./typography-bfd4c59f.js";import{S as _,a as v,b as w}from"./seri-2be4807c.js";import{D as N}from"./dashboard-7b254554.js";import{f as C}from"./index-8030ce66.js";/* empty css            */import"./command-41311169.js";import"./index-6fb8ddc3.js";import"./scroll-area-b79b0770.js";import"./plus-14a54009.js";function H({success:m,data:e,user:f}){const[s,l]=h.useState("detail"),n=S({resolver:j(w),defaultValues:{judul:e==null?void 0:e.data.judul,sinopsis:e==null?void 0:e.data.sinopsis,tahun_terbit:new Date((e==null?void 0:e.data.tahun_terbit)??""),genre_id:e==null?void 0:e.data.genre.map(({id:i})=>i),penerbit_id:e==null?void 0:e.data.penerbit.id,penulis_id:e==null?void 0:e.data.penulis.map(({id:i})=>i),volume:e==null?void 0:e.data.volume.map(({volume:i,harga_sewa:o,jumlah_tersedia:t})=>({volume:parseInt(i.toString()),harga_sewa:o.toString(),jumlah_tersedia:t.toString()}))}}),{trigger:a,handleSubmit:g}=n,u=()=>{a(["judul","sinopsis","tahun_terbit","foto","penerbit_id","penulis_id","genre_id"]).then(i=>i&&l("volume"))},x=i=>{var t;const o=y.serialize({...i,foto:(t=i.foto)==null?void 0:t[0],tahun_terbit:C(i.tahun_terbit,"MM/dd/yyyy")},{indices:!0});b.post(route("seri.update",e==null?void 0:e.data.id)+"?_method=PATCH",o)};return r.jsx(N,{user:f,className:"bg-muted",children:r.jsx("section",{className:"w-full max-w-[1440px] flex flex-col items-end gap-4 md:gap-8 px-3 md:px-12 py-4 md:py-8",children:r.jsxs("div",{className:"w-full flex items-start gap-8",children:[r.jsxs("div",{className:"p-3 space-y-3 bg-background rounded-lg",children:[r.jsx(p,{variant:"ghost",onClick:()=>l("detail"),className:c("w-full flex justify-start",s==="detail"&&"bg-muted"),children:"Detail Manga"}),r.jsx(p,{variant:"ghost",onClick:u,className:c("w-full flex justify-start",s==="volume"&&"bg-muted"),children:"Volume Tersedia"})]}),r.jsx(d,{...n,children:r.jsxs("form",{encType:"multipart/formdata",onSubmit:g(x),className:"grow",children:[m&&e&&s==="detail"&&r.jsx(_,{onNext:u,isUpdate:!0,defaultValue:e.data,...e.meta}),m&&e&&s==="volume"&&r.jsx(v,{isUpdate:!0})]})})]})})})}export{H as default};
