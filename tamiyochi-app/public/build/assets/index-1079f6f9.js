import{j as s,y as b,R as N,d as J}from"./app-1fde4bb0.js";import{S,a as R}from"./scroll-area-b79b0770.js";import{T as x,c as _,B as j}from"./typography-bfd4c59f.js";import{L as W,B as Y,X as Z,v as Q,C as ee,a as re,b as ne,S as te}from"./command-41311169.js";import{c as q,D as ae}from"./dashboard-7b254554.js";import{u as se,F as ce,I as ie}from"./input-c019c968.js";/* empty css            */import"./index-6fb8ddc3.js";const oe=q("ChevronsLeft",[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]]),le=q("ChevronsRight",[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]]);function de({id:e,judul:r,penulis:n,foto:t,volume:a,tahun_terbit:c,sinopsis:i,genre:o}){const h=()=>b.visit(route("seri.detail",e));return s.jsxs("div",{className:"w-full flex h-60 rounded-xl bg-muted overflow-hidden",children:[s.jsxs("div",{onClick:()=>h(),className:"relative shrink-0 w-48 h-full cursor-pointer",children:[s.jsx("img",{src:t,alt:"manga-cover",width:200,height:300,onError:({currentTarget:u})=>{u.onerror=null,u.src="https://downloadwap.com/thumbs2/wallpapers/2022/p2/abstract/47/e9ne9732.jpg"},className:"w-full h-full object-cover"}),s.jsxs("div",{className:"absolute w-full -space-y-1 px-3 py-1 5 bottom-0 bg-foreground opacity-90 group",children:[s.jsx(x,{as:"h6",variant:"p-16/24",weight:"bold",className:"text-background group-hover:text-primary-foreground truncate group-hover:overflow-auto group-hover:whitespace-normal",children:r}),s.jsx(x,{variant:"body-14/24",className:"text-background group-hover:text-primary-foreground truncate",children:n?n.nama_belakang+(n.nama_depan&&`, ${n.nama_depan}`):"Unkown"})]})]}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsxs("div",{className:"flex flex-col gap-1 flex-1 5 p-3 pb-0 overflow-y-hidden",children:[s.jsxs(x,{variant:"body-14/24",weight:"bold",className:"flex gap-1.5",children:[s.jsxs("span",{children:[a," vol"]}),"•",s.jsx("span",{children:c.split("/")[2]})]}),s.jsx(S,{className:"h-full",children:s.jsx(x,{variant:"subtle-14/20",children:i})})]}),s.jsxs(S,{className:"w-full",children:[s.jsx("div",{className:"bg-muted-foreground/20 w-full flex gap-2.5 p-3 overflow-hidden",children:o&&o.length>0?o.map(({id:u,nama:p})=>s.jsx("div",{className:"bg-foreground px-3 py-0.5 rounded-3xl whitespace-nowrap",children:s.jsx(x,{variant:"body-14/24",weight:"bold",className:"text-background",children:p})},u)):s.jsx("div",{className:"bg-foreground px-3 py-0.5 rounded-3xl whitespace-nowrap",children:s.jsx(x,{variant:"body-14/24",weight:"bold",className:"text-background",children:"No Genre"})})}),s.jsx(R,{orientation:"horizontal"})]})]})]})}const B="%[a-f0-9]{2}",A=new RegExp("("+B+")|([^%]+?)","gi"),I=new RegExp("("+B+")+","gi");function v(e,r){try{return[decodeURIComponent(e.join(""))]}catch{}if(e.length===1)return e;r=r||1;const n=e.slice(0,r),t=e.slice(r);return Array.prototype.concat.call([],v(n),v(t))}function fe(e){try{return decodeURIComponent(e)}catch{let r=e.match(A)||[];for(let n=1;n<r.length;n++)e=v(r,n).join(""),r=e.match(A)||[];return e}}function ue(e){const r={"%FE%FF":"��","%FF%FE":"��"};let n=I.exec(e);for(;n;){try{r[n[0]]=decodeURIComponent(n[0])}catch{const a=fe(n[0]);a!==n[0]&&(r[n[0]]=a)}n=I.exec(e)}r["%C2"]="�";const t=Object.keys(r);for(const a of t)e=e.replace(new RegExp(a,"g"),r[a]);return e}function he(e){if(typeof e!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return decodeURIComponent(e)}catch{return ue(e)}}function L(e,r){if(!(typeof e=="string"&&typeof r=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(e===""||r==="")return[];const n=e.indexOf(r);return n===-1?[]:[e.slice(0,n),e.slice(n+r.length)]}function me(e,r){const n={};if(Array.isArray(r))for(const t of r){const a=Object.getOwnPropertyDescriptor(e,t);a!=null&&a.enumerable&&Object.defineProperty(n,t,a)}else for(const t of Reflect.ownKeys(e)){const a=Object.getOwnPropertyDescriptor(e,t);if(a.enumerable){const c=e[t];r(t,c,e)&&Object.defineProperty(n,t,a)}}return n}const ge=e=>e==null,pe=e=>encodeURIComponent(e).replace(/[!'()*]/g,r=>`%${r.charCodeAt(0).toString(16).toUpperCase()}`),O=Symbol("encodeFragmentIdentifier");function xe(e){switch(e.arrayFormat){case"index":return r=>(n,t)=>{const a=n.length;return t===void 0||e.skipNull&&t===null||e.skipEmptyString&&t===""?n:t===null?[...n,[d(r,e),"[",a,"]"].join("")]:[...n,[d(r,e),"[",d(a,e),"]=",d(t,e)].join("")]};case"bracket":return r=>(n,t)=>t===void 0||e.skipNull&&t===null||e.skipEmptyString&&t===""?n:t===null?[...n,[d(r,e),"[]"].join("")]:[...n,[d(r,e),"[]=",d(t,e)].join("")];case"colon-list-separator":return r=>(n,t)=>t===void 0||e.skipNull&&t===null||e.skipEmptyString&&t===""?n:t===null?[...n,[d(r,e),":list="].join("")]:[...n,[d(r,e),":list=",d(t,e)].join("")];case"comma":case"separator":case"bracket-separator":{const r=e.arrayFormat==="bracket-separator"?"[]=":"=";return n=>(t,a)=>a===void 0||e.skipNull&&a===null||e.skipEmptyString&&a===""?t:(a=a===null?"":a,t.length===0?[[d(n,e),r,d(a,e)].join("")]:[[t,d(a,e)].join(e.arrayFormatSeparator)])}default:return r=>(n,t)=>t===void 0||e.skipNull&&t===null||e.skipEmptyString&&t===""?n:t===null?[...n,d(r,e)]:[...n,[d(r,e),"=",d(t,e)].join("")]}}function ye(e){let r;switch(e.arrayFormat){case"index":return(n,t,a)=>{if(r=/\[(\d*)]$/.exec(n),n=n.replace(/\[\d*]$/,""),!r){a[n]=t;return}a[n]===void 0&&(a[n]={}),a[n][r[1]]=t};case"bracket":return(n,t,a)=>{if(r=/(\[])$/.exec(n),n=n.replace(/\[]$/,""),!r){a[n]=t;return}if(a[n]===void 0){a[n]=[t];return}a[n]=[...a[n],t]};case"colon-list-separator":return(n,t,a)=>{if(r=/(:list)$/.exec(n),n=n.replace(/:list$/,""),!r){a[n]=t;return}if(a[n]===void 0){a[n]=[t];return}a[n]=[...a[n],t]};case"comma":case"separator":return(n,t,a)=>{const c=typeof t=="string"&&t.includes(e.arrayFormatSeparator),i=typeof t=="string"&&!c&&g(t,e).includes(e.arrayFormatSeparator);t=i?g(t,e):t;const o=c||i?t.split(e.arrayFormatSeparator).map(h=>g(h,e)):t===null?t:g(t,e);a[n]=o};case"bracket-separator":return(n,t,a)=>{const c=/(\[])$/.test(n);if(n=n.replace(/\[]$/,""),!c){a[n]=t&&g(t,e);return}const i=t===null?[]:t.split(e.arrayFormatSeparator).map(o=>g(o,e));if(a[n]===void 0){a[n]=i;return}a[n]=[...a[n],...i]};default:return(n,t,a)=>{if(a[n]===void 0){a[n]=t;return}a[n]=[...[a[n]].flat(),t]}}}function P(e){if(typeof e!="string"||e.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function d(e,r){return r.encode?r.strict?pe(e):encodeURIComponent(e):e}function g(e,r){return r.decode?he(e):e}function V(e){return Array.isArray(e)?e.sort():typeof e=="object"?V(Object.keys(e)).sort((r,n)=>Number(r)-Number(n)).map(r=>e[r]):e}function z(e){const r=e.indexOf("#");return r!==-1&&(e=e.slice(0,r)),e}function je(e){let r="";const n=e.indexOf("#");return n!==-1&&(r=e.slice(n)),r}function U(e,r){return r.parseNumbers&&!Number.isNaN(Number(e))&&typeof e=="string"&&e.trim()!==""?e=Number(e):r.parseBooleans&&e!==null&&(e.toLowerCase()==="true"||e.toLowerCase()==="false")&&(e=e.toLowerCase()==="true"),e}function C(e){e=z(e);const r=e.indexOf("?");return r===-1?"":e.slice(r+1)}function E(e,r){r={decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1,...r},P(r.arrayFormatSeparator);const n=ye(r),t=Object.create(null);if(typeof e!="string"||(e=e.trim().replace(/^[?#&]/,""),!e))return t;for(const a of e.split("&")){if(a==="")continue;const c=r.decode?a.replace(/\+/g," "):a;let[i,o]=L(c,"=");i===void 0&&(i=c),o=o===void 0?null:["comma","separator","bracket-separator"].includes(r.arrayFormat)?o:g(o,r),n(g(i,r),o,t)}for(const[a,c]of Object.entries(t))if(typeof c=="object"&&c!==null)for(const[i,o]of Object.entries(c))c[i]=U(o,r);else t[a]=U(c,r);return r.sort===!1?t:(r.sort===!0?Object.keys(t).sort():Object.keys(t).sort(r.sort)).reduce((a,c)=>{const i=t[c];return i&&typeof i=="object"&&!Array.isArray(i)?a[c]=V(i):a[c]=i,a},Object.create(null))}function M(e,r){if(!e)return"";r={encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:",",...r},P(r.arrayFormatSeparator);const n=i=>r.skipNull&&ge(e[i])||r.skipEmptyString&&e[i]==="",t=xe(r),a={};for(const[i,o]of Object.entries(e))n(i)||(a[i]=o);const c=Object.keys(a);return r.sort!==!1&&c.sort(r.sort),c.map(i=>{const o=e[i];return o===void 0?"":o===null?d(i,r):Array.isArray(o)?o.length===0&&r.arrayFormat==="bracket-separator"?d(i,r)+"[]":o.reduce(t(i),[]).join("&"):d(i,r)+"="+d(o,r)}).filter(i=>i.length>0).join("&")}function T(e,r){var a;r={decode:!0,...r};let[n,t]=L(e,"#");return n===void 0&&(n=e),{url:((a=n==null?void 0:n.split("?"))==null?void 0:a[0])??"",query:E(C(e),r),...r&&r.parseFragmentIdentifier&&t?{fragmentIdentifier:g(t,r)}:{}}}function K(e,r){r={encode:!0,strict:!0,[O]:!0,...r};const n=z(e.url).split("?")[0]||"",t=C(e.url),a={...E(t,{sort:!1}),...e.query};let c=M(a,r);c&&(c=`?${c}`);let i=je(e.url);if(e.fragmentIdentifier){const o=new URL(n);o.hash=e.fragmentIdentifier,i=r[O]?o.hash:`#${e.fragmentIdentifier}`}return`${n}${c}${i}`}function G(e,r,n){n={parseFragmentIdentifier:!0,[O]:!1,...n};const{url:t,query:a,fragmentIdentifier:c}=T(e,n);return K({url:t,query:me(a,r),fragmentIdentifier:c},n)}function be(e,r,n){const t=Array.isArray(r)?a=>!r.includes(a):(a,c)=>!r(a,c);return G(e,t,n)}const y=Object.freeze(Object.defineProperty({__proto__:null,exclude:be,extract:C,parse:E,parseUrl:T,pick:G,stringify:M,stringifyUrl:K},Symbol.toStringTag,{value:"Module"}));function we({baseUrl:e,filterData:r,maxFilter:n,placeholder:t="Select Filter",className:a}){var D;const c=N.useRef(null),[i,o]=N.useState(""),[h,u]=N.useState(!1),p=y.parse(location.search,{arrayFormat:"index"}),m=((D=p.filter)==null?void 0:D.map(l=>r.find(({id:f})=>f===l.toString())))??[],$=r.filter(l=>!m.includes(l)),k=l=>{const f=y.stringify({...p,filter:l.map(F=>F==null?void 0:F.id)},{arrayFormat:"index"});b.visit(`${e}?${f}`,{replace:!0})},w=l=>{k(m.filter(f=>f!==l))},H=l=>{m.push(l),k(m)},X=l=>{const f=c.current;f&&(f.value===""&&(l.key==="Delete"||l.key==="Backspace")&&w(m[m.length-1]),l.key==="Escape"&&f.blur())};return s.jsxs(W,{onKeyDown:X,className:_("overflow-x-clip overflow-y-visible bg-transparent",a),children:[s.jsxs("div",{className:"group border border-input h-10 flex items-center px-3 text-sm ring-offset-background rounded-md focus-within:ring-2 focus-within:ring-ring focus-within:ring-offset-2",children:[s.jsxs(S,{className:"w-full",children:[s.jsxs("div",{className:"flex-1 flex py-2 items-center gap-1.5 overflow-hidden",children:[m==null?void 0:m.map(l=>s.jsxs(Y,{variant:"secondary",className:"w-max",children:[l==null?void 0:l.value," ",s.jsx("button",{className:"ring-offset-background rounded-full outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",onKeyDown:f=>{f.key==="Enter"&&w(l)},onMouseDown:f=>{f.preventDefault(),f.stopPropagation()},onClick:()=>w(l),children:s.jsx(Z,{className:"h-3 w-3 text-muted-foreground hover:text-foreground"})})]},l==null?void 0:l.id)),(!n||m.length<n)&&s.jsx(Q,{ref:c,value:i,onValueChange:o,onBlur:()=>u(!1),onFocus:()=>u(!0),placeholder:t,className:"bg-transparent outline-none placeholder:text-muted-foreground flex-1"})]}),s.jsx(R,{orientation:"horizontal"})]}),s.jsx(ee,{onClick:()=>{var l;u(!0),(l=c.current)==null||l.focus()},className:"h-4 w-4 cursor-pointer"})]}),s.jsx("div",{className:"relative mt-2",children:h&&$.length>0?s.jsx("div",{className:"absolute w-full z-10 top-0 rounded-md border bg-popover text-popover-foreground shadow-md outline-none animate-in",children:s.jsx(re,{className:"h-full overflow-auto",children:$.map(l=>s.jsx(ne,{onMouseDown:f=>{f.preventDefault(),f.stopPropagation()},onSelect:f=>{o(""),H(l)},className:"cursor-pointer",children:l.value},l.id))})}):null})]})}function Fe({baseUrl:e,pageCount:r=5,maxPage:n=1}){const t=y.parse(location.search,{arrayFormat:"index",parseNumbers:!0}),[a,c]=[t.page??1,t.per_page],i=(h,u)=>{const p=y.stringify({...t,page:h,per_page:u},{arrayFormat:"index"});b.visit(`${e}?${p}`,{replace:!0})},o=[...Array(n)].map((h,u)=>u+1).slice(a<=r>>2?0:a>n-r+1?n-r:a-(r>>1),a<r>>1?r:a+r-(r>>1));return s.jsxs("div",{className:"flex gap-1.5",children:[s.jsx(j,{size:"icon",disabled:a==1,onClick:()=>i(1,c),children:s.jsx(oe,{className:"h-4 w-4"})}),o.map((h,u)=>s.jsx(j,{variant:a==h?"default":"outline",size:"icon",onClick:()=>i(h,c),className:_(a==h&&"pointer-events-none"),children:h},u)),s.jsx(j,{size:"icon",disabled:a==n,onClick:()=>i(n,c),children:s.jsx(le,{className:"h-4 w-4"})})]})}function Ne({baseUrl:e,placeholder:r="Search",className:n}){const t=y.parse(location.search,{arrayFormat:"index"}),{search:a,...c}=t,i=se(),{handleSubmit:o,register:h}=i,u=p=>{const m=y.stringify({...c,search:p.search},{arrayFormat:"index",skipEmptyString:!0});b.visit(`${e}?${m}`,{replace:!0})};return s.jsx(ce,{...i,children:s.jsx("form",{onSubmit:o(u),className:n,children:s.jsxs("div",{className:"relative",children:[s.jsx(ie,{placeholder:r,defaultValue:a,className:"relative pl-9",...h("search")}),s.jsx("div",{className:"absolute top-0 h-full flex items-center px-3",children:s.jsx(te,{className:"h-4 w-4 text-muted-foreground"})})]})})})}function Ae({success:e,data:r,user:n}){const t=(r==null?void 0:r.meta.genre.map(({id:a,nama:c})=>({id:a.toString(),value:c})))??[];return s.jsx(ae,{user:n,className:"space-y-8",children:s.jsxs("section",{className:"w-full max-w-[1440px] flex flex-col items-end gap-4 md:gap-8 px-3 md:px-12 py-4 md:py-8",children:[s.jsxs("div",{className:"w-full grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-x-8 gap-y-2",children:[s.jsx(Ne,{baseUrl:route("seri.index")}),s.jsxs("div",{className:"md:col-start-2 lg:col-start-3 flex gap-3",children:[s.jsx(we,{baseUrl:route("seri.index"),filterData:t,placeholder:"Select Genres",maxFilter:3,className:"grow"}),(n==null?void 0:n.user_type)==="admin"&&s.jsx(J,{href:route("seri.create.index"),children:s.jsx(j,{children:"Tambah Manga"})})]})]}),e&&s.jsx("div",{className:"w-full grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-8",children:r==null?void 0:r.data.map((a,c)=>s.jsx(de,{...a,penulis:a.penulis[0],volume:a.volume.length},c))}),s.jsx(Fe,{baseUrl:route("seri.index"),maxPage:r==null?void 0:r.meta.max_page})]})})}export{Ae as default};
